# Solar Circuit Designer (太陽光発電所 回路設計支援ツール)

**現在のデプロイ状況**: 
メインアプリケーションは `index.html` (旧 `preview.html`) に集約されています。このファイルは単独で動作するHTMLファイルであり（React, TailwindをCDN経由で読み込み）、GitHub Pages等の静的ホスティングサービスにそのまま配置して動作可能です。

## 機能概要

- **パネル仕様入力**: Voc, Vmp, 温度係数などの仕様入力（プリセット56種対応）
- **PCS仕様入力**: 複数台のPCS構成に対応、MPPT範囲や最大入力電圧などの設定
- **自動計算**:
  - 最低気温時のVoc上昇（温度補正）
  - MPPT動作範囲と最大電圧制約に基づいた直列枚数（ストリング）の決定
  - 過積載率の計算
  - 電流値の整合性チェック（Isc, Imp）
- **結果表示**:
  - 回路割付表（マトリクス表示）
  - 設計サマリー（PV容量、PCS容量、過積載率）
  - 警告メッセージ（制約違反時）
  - 詳細な電流・電圧判定（NG理由の明示）

## ファイル構成

- `index.html`: メインアプリケーション（旧 preview.html）。これを開くだけでアプリが利用可能です。
- `index.old.html`: 以前のViteエントリーポイント（バックアップ）。

## 開発環境セットアップ (参考: 元のViteプロジェクト)

以下は元のVite構成を利用する場合の手順ですが、現在は `index.html` を直接編集・利用する形態がメインとなっています。


### 1. 依存パッケージのインストール

```bash
npm install
```

### 2. 開発サーバーの起動

```bash
npm run dev
```

### 3. ビルド

```bash
npm run build
```

## プロジェクト構成

- `src/types.ts`: TypeScript型定義 (PanelSpec, PcsSpecなど)
- `src/logic/stringDesign.ts`: 設計計算のコアロジック (純粋関数)
- `src/components/`: UIコンポーネント群
- `src/App.tsx`: メイン画面構成と状態管理

## 制限事項・前提

- 並列ストリング（1回路に複数ストリング接続）は現状非対応です（1回路=1ストリング前提）。
- 計算ロジックは「最大枚数優先」の簡易ヒューリスティックを採用しています。
- モジュールの総数が割り切れない場合の高度な配分最適化は実装されていません（端数は警告表示）。
